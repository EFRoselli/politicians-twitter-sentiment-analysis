<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Hello World!</title>
  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400italic,400,700' rel='stylesheet' type='text/css'>
  <link href='http://grommet.io/assets/latest/css/grommet.min.css' rel='stylesheet' type='text/css'>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.2/react.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.2/react-dom.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
  <script src="http://grommet.io/assets/latest/grommet.min.js"></script>
</head>
<body>
  <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
  <div id="content"></div>
  <script type="text/babel">
    var socket = io();
    // React.Component {
    //   socket.on('message', function(msg){
    //     // console.log(msg);
    //     // this.setState({ message: msg });
    //     // console.log(msg);
    //     // messages.push(message);
    //     // this.setState({messages});
    //   });
    // }
    var SomethingElse = React.createClass({
      render: function() {
        socket.on('message', function(msg){
          console.log(msg);
        });
        this.setState({'test':'me'});
      }
    });


    var HelloWorldDashboard = React.createClass({
      render: function () {
        return (
          <Grommet.Tiles fill={true}>
            <Grommet.Tile align="start">
              <p>Hello from a Grommet page!</p>
              <p>{this.state.text} Now, come back to the <a href="http://grommet.io/docs/documentation#understanding-grommet">Hello World</a> guide to continue your Grommet exploration.</p>
            </Grommet.Tile>
          </Grommet.Tiles>
        );
      }
    });

    var SentimentMeters = React.createClass({
      render: function () {
        return (
          <div className="messages">
            <Grommet.Meter legend={{"total": false}} series={[
              {"label": "something", "value": 50, "colorIndex": "graph-1"},
              {"label": "Hillary Clinton", "value": 200, "colorIndex": "graph-2"},
              {"label": "Donald Trump", "value": 100, "colorIndex": "graph-3"},
              {"label": "Ted Cruz", "value": 300, "colorIndex": "graph-4"},
              {"label": "Ben Carson", "value": 300, "colorIndex": "graph-5"},
              {"label": "Marco Rubio", "value": 300, "colorIndex": "graph-6"}
            ]} vertical={true} />
          </div>
        );
      }
    });

    var App = React.createClass({
      var socket = io();
      setInitialConditions() {
          var data = {text: "this is cool"};
          this.setState(data);
      },

      receivedTweet() {
        socket.on('message', function(msg){
          var data = {text: "this is cool"};
          this.setState(data);
          console.log(msg);
        });
      },

      render: function() {
        return (
          <Grommet.App>
            <Grommet.Header direction="row" justify="between" large={true} pad={{horizontal: 'medium'}}>
              <Grommet.Title>Hello World</Grommet.Title>
            </Grommet.Header>
            <Grommet.Section pad={{horizontal: 'medium'}}>
              <HelloWorldDashboard />
            </Grommet.Section>
            <Grommet.Section pad={{horizontal: 'medium'}}>
              <SentimentMeters />
            </Grommet.Section>
          </Grommet.App>
        );
      }
    });

    var element = document.getElementById('content');
    ReactDOM.render(React.createElement(App), element);
  </script>
</body>
</html>
